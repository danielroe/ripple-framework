import {
  Canvas,
  Meta,
  Story,
  ArgsTable
} from '@storybook/addon-docs'
import RplAvatarCard from './avatar-card.vue'
import { a11yStoryCheck } from './../../../stories/interactions.js'

export const SingleTemplate = (args) => ({
  components: { RplAvatarCard },
  setup() {
    return { args }
  },
  template: `
  <ul class="rpl-storybook__page rpl-grid">
    <RplAvatarCard
      v-for="(item, index) of args.number"
      :key="index"
      el="li"
      v-bind="args"
      class="rpl-col-12 rpl-col-6-m rpl-col-4-l"
      url="${args.url}"
      image="${args.image}"
      meta="${args.meta}"
      title="${args.title}"
    >
      ${args.default}
    </RplAvatarCard>
  </ul>
  `
})

<Meta title='Core/Navigation/Card' component={RplAvatarCard} />

# Card

<ArgsTable of={RplAvatarCard} />

## Avatar

<Canvas>
  <Story
    name='Avatar'
    play={a11yStoryCheck}
    parameters={{
      backgrounds: {
        default: 'light',
      },
    }}
    argTypes={{
      number: {
        control: { type: 'select' },
        options: [1, 2, 4, 8],
        defaultValue: 1
      },
      image: {
        table: {
          disable: true
        }
      }
    }}
    args={{
      url: 'https://www.vic.gov.au',
      image: svgPlaceholder({ width: 220, height: 220, bgColor: '#da7', fgColor: '#333' }),
      meta: 'Profile',
      title: 'Mary Sherman Morgan',
      default: '<p>America&rsquo;s first female rocket scientist.</p>'
    }}
  >
    {SingleTemplate.bind()}
  </Story>
</Canvas>
